(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-028c2296"],{"2baf":function(e,t,r){},"3b9f":function(e,t,r){"use strict";var n=r("2baf"),a=r.n(n);a.a},"6c00":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"workflow-wrap"},[r("div",{staticClass:"workflow-tabs"},e._l(e.tabList,(function(t,n){return r("div",{key:n,staticClass:"workflow-tabs-item",class:{active:t.version?e.currentVal.name===t.name&&e.currentVal.version===t.version:e.currentVal.name===t.name},on:{click:function(r){return e.onTabClick(t)},mouseenter:function(e){if(e.target!==e.currentTarget)return null;t.isHover=!0},mouseleave:function(e){if(e.target!==e.currentTarget)return null;t.isHover=!1}}},[r("div",{staticClass:"workflow-tabs-name",attrs:{title:t.label}},[e._v(e._s(t.label))]),t.close?r("Icon",{staticClass:"workflow-tabs-close",attrs:{type:"ios-close"},on:{click:function(r){return r.stopPropagation(),e.onTabRemove(t)}}}):e._e()],1)})),0),e._l(e.tabList,(function(t,n){return["index"===t.name?r("Workflow",{directives:[{name:"show",rawName:"v-show",value:t.version?e.currentVal.name===t.name&&e.currentVal.version===t.version:e.currentVal.name===t.name,expression:"item.version ? (currentVal.name===item.name && currentVal.version === item.version) : currentVal.name===item.name"}],key:n,ref:"workflow",refInFor:!0,on:{"open-workflow":e.openWorkflow}}):r("process",{directives:[{name:"show",rawName:"v-show",value:t.version?e.currentVal.name===t.name&&e.currentVal.version===t.version:e.currentVal.name===t.name,expression:"item.version ? (currentVal.name===item.name && currentVal.version === item.version) : currentVal.name===item.name"}],key:n,attrs:{query:t.query},on:{updateWorkflowList:e.updateWorkflowList}})]}))],2)},a=[],i=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d"),r("c5f6"),r("96cf"),r("3b8d")),s=(r("20d6"),r("7f7f"),r("7514"),r("bd86")),o=r("d0d5"),c=r("9f24"),l=r("83f2");r("66ed");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={components:{Workflow:c["default"].component,process:l["default"].component},data:function(){return{indexLabel:function(e){return e("span",{},"概览")},tabList:[{name:"index",label:"概览",isHover:!0,close:!1,version:"index"}],currentVal:{name:"index",version:"index"},lastVal:null,current:null}},watch:{currentVal:function(e,t){this.lastVal=t,this.currentVal=e,this.updateProjectCache()},"$route.query.projectID":function(){this.current={name:"index",label:"概览",isHover:!0,close:!1,version:"index"},this.tabList=[f({},this.current)],this.currentVal={name:"index",version:"index"},this.lastVal=null}},mounted:function(){this.getCache()},methods:{openWorkflow:function(e){var t=this.tabList.find((function(t){return t.name===e.name&&t.version===e.version}));t&&-1!==t||(this.current={version:e.version,flowId:e.flowId,label:e.name,name:e.name,query:e,isHover:!0,close:!0},this.tabList.push(this.current)),this.lastVal=this.currentVal,this.currentVal={name:e.name,version:e.version},this.updateProjectCache(e.projectID,!0)},onTabRemove:function(e){var t=this.tabList.findIndex((function(t){return e.name===t.name&&e.version===t.version}));this.tabList.splice(t,1),e.name===this.currentVal.name&&e.version===this.currentVal.version&&(this.currentVal=this.lastVal),this.updateProjectCache(null,!0)},onTabClick:function(e){this.lastVal=this.currentVal,this.currentVal={name:e.name,version:e.version},this.current=e},getCache:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.query,!t||!t.projectID){e.next=6;break}return e.next=4,o["a"].getProjectCache({projectID:t.projectID});case 4:r=e.sent,r&&Number(t.projectID)===Number(r.projectID)&&(this.lastVal=r.lastVal,r.tabList?(this.currentVal=r.currentVal,this.tabList=r.tabList,this.current=r.tabList.find((function(e){return n.currentVal.version&&e.version?e.name===n.currentVal.name&&e.version==n.currentVal.version:e.name===n.currentVal.name}))):this.current={name:"index",label:"概览",isHover:!0,close:!1,version:"index"});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateProjectCache:function(e,t){var r={currentVal:this.currentVal,lastVal:this.lastVal};t&&(r.tabList=this.tabList),e=e||this.$route.query.projectID,o["a"].updateProjectCache({projectID:e,value:r})},updateWorkflowList:function(){this.$refs.workflow[0].fetchFlowData()}}},v=m,h=(r("3b9f"),r("2877")),p=Object(h["a"])(v,n,a,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-028c2296.f6edf2e5.js.map